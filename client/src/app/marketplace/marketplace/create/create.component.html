<ng-container>
	<section
		[ngStyle]="{ display: (display$ | async) ? '' : 'none' }"
		class="create__wrapper"
		(click)="close()"
	>
		<div class="create__container">
			<button class="close" type="button" (click)="close()">X</button>
			<div class="create__body" (click)="$event.stopPropagation()">
				<div class="create__search">
					<label for="deviceSearch">Search for Device</label>
					<input
						#searchInput
						class="search__input"
						name="deviceSearch"
						type="text"
					/>
				</div>
				<div *ngIf="!this.detailedView" class="create__list">
					<div
						*ngFor="let device of devices"
						class="create__block"
						(click)="showDetails(device.deviceKey)"
					>
						<p>{{ device.deviceName }}</p>
						<img src="{{ device.deviceImage }}" alt="" />
					</div>
				</div>
				<div *ngIf="this.detailedView" class="create__details">
					<div class="details__leftBlock">
						<p>{{ detailedInfo!.deviceName }}</p>
						<div class="details__image">
							<img src="{{ detailedInfo!.deviceImage }}" alt="" />
						</div>
						<div class="details__user">
							<h6>Personal and Contact Details</h6>
							<p>Full Name: {{ user!.firstName }} {{ user!.lastName }}</p>
							<p>Email: {{ user!.email }}</p>
							<p>Phone: {{ user!.phone }}</p>
						</div>
					</div>

					<div class="details__middleBlock">
						<table class="details__table">
							<tbody class="table__body">
								<tr class="table__row">
									<td class="table__leadRow">Display</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.display">
											<span style="font-weight: bold">Display:</span>
											{{ this.detailedInfo!.display }}
										</p>
										<p *ngIf="this.detailedInfo!.size">
											<span style="font-weight: bold">Size:</span>
											{{ this.detailedInfo!.size }}
										</p>
										<p *ngIf="this.detailedInfo!.resolution">
											<span style="font-weight: bold">Resolution:</span>
											{{ this.detailedInfo!.resolution }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Cameras</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.cameraMain">
											<span style="font-weight: bold">Rear Camera:</span>
											{{ this.detailedInfo!.cameraMain }}
										</p>
										<p *ngIf="this.detailedInfo!.videoMain">
											<span style="font-weight: bold">Rear Camera Video:</span>
											{{ this.detailedInfo!.videoMain }}
										</p>
										<p *ngIf="this.detailedInfo!.cameraSelfie">
											<span style="font-weight: bold">Front Camera:</span>
											{{ this.detailedInfo!.cameraSelfie }}
										</p>
										<p *ngIf="this.detailedInfo!.videoSelfie">
											<span style="font-weight: bold">Front Camera Video:</span>
											{{ this.detailedInfo!.videoSelfie }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Hardware</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.chipset">
											<span style="font-weight: bold">Chipset:</span>
											{{ this.detailedInfo!.chipset }}
										</p>
										<p *ngIf="this.detailedInfo!.os">
											<span style="font-weight: bold">OS:</span>
											{{ this.detailedInfo!.os }}
										</p>
										<p *ngIf="this.detailedInfo!.cpu">
											<span style="font-weight: bold">CPU:</span>
											{{ this.detailedInfo!.cpu }}
										</p>
										<p *ngIf="this.detailedInfo!.gpu">
											<span style="font-weight: bold">GPU:</span>
											{{ this.detailedInfo!.gpu }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Body</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.dimensions">
											<span style="font-weight: bold">Size:</span>
											{{ this.detailedInfo!.dimensions }}
										</p>
										<p *ngIf="this.detailedInfo!.weight">
											<span style="font-weight: bold">Weight:</span>
											{{ this.detailedInfo!.weight }}
										</p>
										<p *ngIf="this.detailedInfo!.build">
											<span style="font-weight: bold">Build:</span>
											{{ this.detailedInfo!.build }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Battery</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.batteryType">
											<span style="font-weight: bold">Type:</span>
											{{ this.detailedInfo!.batteryType }}
										</p>
										<p *ngIf="this.detailedInfo!.batteryCharge">
											<span style="font-weight: bold">Charge:</span>
											{{ this.detailedInfo!.batteryCharge }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Storage & Sim</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.cardSlot">
											<span style="font-weight: bold">Card Slot:</span>
											{{ this.detailedInfo!.cardSlot }}
										</p>
										<p *ngIf="this.detailedInfo!.internalStorage">
											<span style="font-weight: bold">Internal Storage:</span>
											{{ this.detailedInfo!.internalStorage }}
										</p>
										<p *ngIf="this.detailedInfo!.sim">
											<span style="font-weight: bold">Sim:</span>
											{{ this.detailedInfo!.sim }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Features</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.connectivity">
											<span style="font-weight: bold">Connectivity:</span>
											{{ this.detailedInfo!.connectivity }}
										</p>
										<p *ngIf="this.detailedInfo!.jack">
											<span style="font-weight: bold">3.5mm Jack:</span>
											{{ this.detailedInfo!.jack }}
										</p>
										<p *ngIf="this.detailedInfo!.features">
											<span style="font-weight: bold">Others:</span>
											{{ this.detailedInfo!.features }}
										</p>
									</td>
								</tr>
								<tr class="table__row">
									<td class="table__leadRow">Distribution</td>
									<td class="table__data">
										<p *ngIf="this.detailedInfo!.launchDate">
											<span style="font-weight: bold">Release Date:</span>
											{{ this.detailedInfo!.launchDate }}
										</p>
									</td>
								</tr>
							</tbody>

							<tbody></tbody>
						</table>
					</div>

					<div class="details__rightBlock">
						<form [formGroup]="postingForm" (ngSubmit)="sendPosting()">
							<label for="comments">Comments about your device</label>
							<textarea
								name="comments"
								id=""
								cols="30"
								rows="10"
								formControlName="comments"
							></textarea>
							<label for="price">Sell Price</label>
							<input type="number" name="price" formControlName="price" />
							<button>Create Posting</button>
							<button (click)="this.resetForm()">Clear Form</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>
</ng-container>
